{% extends "base-plain.j2" %}

{% block title %}Results: {{ race.name }} ({{ race.date }}){% endblock %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="/css/styles-results.css">
{% endblock %}

{% block content %}
<h1>{{ race.name }} ({{ race.date }})</h1>

<form method="post">
    <div class="row">
        <div class="row mb-3">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Category</label>
            <div class="col-sm-4 pt-4">
                <select class="form-select" class="form-control" id="category" name="category_id">
                    {% for option in categories %}
                    <option value="{{ option.id }}" {% if option.id==category.id %} selected{% endif %}>{{ option
                        }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-sm-4 pt-2">
                <button type="submit" class="btn">Select</button>
            </div>
        </div>
    </div>
</form>

<h2>{{ category }}</h2>

<table class="table table-sm result">
    <colgroup>
        <col span="1" style="width: 5%;">
        <col span="1" style="width: 7%;">
        <col span="1">
        <col span="1" style="width: 10%; text-align: center;">
    </colgroup>
    <thead>
        <tr>
            <th></th>
            <td>#</td>
            <th>Crew</th>
            <th style="text-align: center;">Time</th>
        </tr>
    </thead>
    <tbody>
        {% for result in results %}
        <tr {% if loop.index> 3 %}class="muted"{% else %}class="bolded"{% endif %}>
            <td>{{ loop.index }}</td>
            <td style="text-align: center;">{{ result.race_number }}</td>
            <td>{{ result }}</td>
            <td style="text-align: center;">{{ result.time }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
